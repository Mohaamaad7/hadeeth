<?php

declare(strict_types=1);

namespace Database\Seeders;

use App\Models\Source;
use Illuminate\Database\Seeder;

class SourceSeeder extends Seeder
{
    /**
     * Seed standard hadith sources with their codes.
     */
    public function run(): void
    {
        $sources = [
            // المصادر الستة
            ['name' => 'صحيح البخاري', 'code' => 'خ', 'type' => 'صحيح'],
            ['name' => 'صحيح مسلم', 'code' => 'م', 'type' => 'صحيح'],
            ['name' => 'سنن أبي داود', 'code' => 'د', 'type' => 'سنن'],
            ['name' => 'سنن الترمذي', 'code' => 'ت', 'type' => 'سنن'],
            ['name' => 'سنن النسائي', 'code' => 'ن', 'type' => 'سنن'],
            ['name' => 'سنن ابن ماجه', 'code' => 'هـ', 'type' => 'سنن'],
            
            // المسانيد
            ['name' => 'مسند أحمد', 'code' => 'حم', 'type' => 'مسند'],
            ['name' => 'زوائد عبد الله بن أحمد', 'code' => 'عم', 'type' => 'زوائد'],
            ['name' => 'مسند أبي يعلى', 'code' => 'ع', 'type' => 'مسند'],
            
            // الحاكم
            ['name' => 'المستدرك للحاكم', 'code' => 'ك', 'type' => 'مستدرك'],
            
            // البخاري (كتب أخرى)
            ['name' => 'الأدب المفرد للبخاري', 'code' => 'خد', 'type' => 'أدب'],
            ['name' => 'التاريخ الكبير للبخاري', 'code' => 'تخ', 'type' => 'تاريخ'],
            
            // ابن حبان والطبراني
            ['name' => 'صحيح ابن حبان', 'code' => 'حب', 'type' => 'صحيح'],
            ['name' => 'المعجم الكبير للطبراني', 'code' => 'طب', 'type' => 'معجم'],
            ['name' => 'المعجم الأوسط للطبراني', 'code' => 'طس', 'type' => 'معجم'],
            ['name' => 'المعجم الصغير للطبراني', 'code' => 'طص', 'type' => 'معجم'],
            
            // السنن والمصنفات
            ['name' => 'سنن سعيد بن منصور', 'code' => 'ص', 'type' => 'سنن'],
            ['name' => 'مصنف ابن أبي شيبة', 'code' => 'ش', 'type' => 'مصنف'],
            ['name' => 'المصنف لعبد الرزاق', 'code' => 'عب', 'type' => 'مصنف'],
            ['name' => 'سنن الدارقطني', 'code' => 'قط', 'type' => 'سنن'],
            ['name' => 'السنن الكبرى للبيهقي', 'code' => 'هق', 'type' => 'سنن'],
            ['name' => 'شعب الإيمان للبيهقي', 'code' => 'هب', 'type' => 'شعب'],
            
            // كتب الرجال
            ['name' => 'الكامل لابن عدي', 'code' => 'عد', 'type' => 'رجال'],
            ['name' => 'الضعفاء للعقيلي', 'code' => 'عق', 'type' => 'رجال'],
            
            // كتب متنوعة
            ['name' => 'مسند الفردوس للديلمي', 'code' => 'فر', 'type' => 'مسند'],
            ['name' => 'حلية الأولياء لأبي نعيم', 'code' => 'حل', 'type' => 'حلية'],
            ['name' => 'تاريخ بغداد للخطيب', 'code' => 'خط', 'type' => 'تاريخ'],
            
            // المجموعات
            ['name' => 'متفق عليه (البخاري ومسلم)', 'code' => 'ق', 'type' => 'مجموعة'],
            ['name' => 'السنن الأربعة', 'code' => '4', 'type' => 'مجموعة'],
            ['name' => 'السنن الثلاثة', 'code' => '3', 'type' => 'مجموعة'],
        ];

        foreach ($sources as $source) {
            Source::firstOrCreate(
                ['code' => $source['code']],
                $source
            );
        }
        
        $this->command->info('✅ تم إضافة/تحديث ' . count($sources) . ' مصدر بنجاح!');
    }
}
