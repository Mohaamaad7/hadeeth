<?php

namespace Database\Seeders;

use App\Models\Book;
use Illuminate\Database\Seeder;

class BooksAndChaptersSeeder extends Seeder
{
    /**
     * Run the database seeds.
     */
    public function run(): void
    {
        $booksData = [
            // ==================== كتاب الطهارة ====================
            [
                'name' => 'كتاب الطهارة',
                'chapters' => [
                    'باب المياه',
                    'باب ما جاء في آنية أهل الكتاب',
                    'باب فضلة الطهارة',
                    'باب أسباب الغسل',
                    'باب الحيض والاستحاضة',
                    'باب صفة الغسل',
                    'باب ما يجزئ من الماء للوضوء والغسل',
                    'باب دخول الحمام',
                    'باب أسباب الوضوء',
                    'باب فضائل الوضوء',
                    'باب صفة الوضوء',
                    'باب نواقض الوضوء',
                    'باب الحث على السواك',
                    'باب المسح على الخفين',
                ],
            ],

            // ==================== كتاب الصلاة ====================
            [
                'name' => 'كتاب الصلاة',
                'chapters' => [
                    'باب فرض الصلاة',
                    'باب الترغيب في المحافظة على الصلوات المكتوبة',
                    'باب فضل الصلاة',
                    'باب فضل الصلاة في أول الوقت',
                    'باب الأوقات التي تكره فيها الصلاة',
                    'باب مواضع الصلاة',
                    'باب فضل المساجد',
                    'باب الآذان',
                    'باب الإقامة',
                    'باب سترة المصلي',
                    'باب القبلة والسترة وما يتعلق بهما',
                    'باب الخشوع في الصلاة ومواضعه',
                    'باب فضل صلاة الفذ على صلاة القاعد',
                    'باب قراءة الفاتحة والتأمين',
                    'باب الركوع والسجود والقنوت',
                    'باب الجلوس والتشهد والتسليم',
                    'باب الأفعال الجائزة والممنوعة في الصلاة',
                    'باب سجود الشكر والتلاوة',
                    'باب ذوات الصلاة',
                    'باب التسبيح بعد الصلاة والانصراف منها',
                    'باب الترتيب في صلاة الجماعة',
                    'باب فضل انتظار الصلاة والمشي إليها',
                    'باب أحكام الإمام والمأموم',
                    'باب التكبير إلى الجمعة والترغيب في التخلف عنها',
                    'باب على من تجب الجمعة',
                    'باب آداب صلاة الجمعة',
                    'باب خطبة الجمعة',
                    'باب صلاة العيدين',
                    'باب صلاة الخوف',
                ],
            ],

            // ==================== كتاب الجنائز ====================
            [
                'name' => 'كتاب الجنائز',
                'chapters' => [
                    'باب وجوب الحجاب واخلاص النية فيه',
                    'باب فضل الرباط والجهاد في سبيل الله',
                    'باب المجاهدين بالشام',
                    'باب تعريف الشهادة',
                    'باب الإرشاد',
                    'باب الجبن والفرار',
                    'باب شعار الإسلام وعلاماته',
                    'باب فضل الإسلام وعلاماته',
                    'باب الأحكام الإسلامية والدعوة',
                    'باب الإيمان بالغيب',
                    'باب الموصوفة',
                    'باب فضل العالم والمتعلم',
                    'باب العلم يقبض بقبض العلماء',
                    'باب الترهيب من كتمان العلم',
                    'باب الذي عن كثرة السؤال',
                    'باب رواية الحديث النبوي',
                    'باب الكذب على رسول الله ﷺ',
                    'باب الفرق بين ما أخبر به النبي ﷺ من أمر الدين وما أخبر',
                ],
            ],

            // ==================== كتاب القرآن ====================
            [
                'name' => 'كتاب القرآن',
                'chapters' => [
                    'باب فضل تعلم القرآن وتلاوته',
                    'باب فضل سور القرآن',
                    'باب نزول القرآن على سبعة أحرف',
                    'باب أخذ الأجرة على قراءة القرآن',
                    'باب حكم المصحف والستره به',
                    'باب تفسير سور القرآن سورة الفاتحة',
                    'سورة البقرة',
                    'سورة النساء',
                    'سورة المائدة',
                    'سورة الأعراف',
                    'سورة الأنفال',
                    'سورة التوبة',
                    'سورة يونس',
                    'سورة هود',
                    'سورة مريم',
                    'سورة النور',
                    'سورة الفرقان',
                    'سورة الشعراء',
                    'سورة النمل',
                    'سورة القصص',
                    'سورة لقمان',
                    'سورة الأحزاب',
                    'سورة فاطر',
                    'سورة يس',
                    'سورة الصافات',
                    'سورة ص',
                    'سورة الزمر',
                    'سورة الدخان',
                    'سورة الجاثية',
                    'سورة الأحقاف',
                    'سورة محمد',
                    'سورة الفتح',
                    'سورة الحجرات',
                    'سورة ق',
                    'سورة الذاريات',
                    'سورة الطور',
                    'سورة النجم',
                    'سورة القمر',
                    'سورة الرحمن',
                    'سورة الواقعة',
                    'سورة الحديد',
                    'سورة المجادلة',
                    'سورة الحشر',
                    'سورة الممتحنة',
                    'سورة الصف',
                    'سورة المنافقون',
                    'سورة التغابن',
                    'سورة الطلاق',
                    'سورة التحريم',
                    'سورة الملك',
                    'سورة القلم',
                    'سورة الحاقة',
                    'سورة المعارج',
                    'سورة نوح',
                    'سورة الجن',
                    'سورة المزمل',
                    'سورة المدثر',
                    'سورة القيامة',
                    'سورة الإنسان',
                    'سورة المرسلات',
                    'سورة النبأ',
                    'سورة النازعات',
                    'سورة عبس',
                    'سورة التكوير',
                    'سورة الانفطار',
                    'سورة المطففين',
                    'سورة الانشقاق',
                    'سورة البروج',
                    'سورة الطارق',
                    'سورة الأعلى',
                    'سورة الغاشية',
                    'سورة الفجر',
                    'سورة البلد',
                    'سورة الشمس',
                    'سورة الليل',
                    'سورة الضحى',
                    'سورة الشرح',
                    'سورة التين',
                    'سورة العلق',
                    'سورة القدر',
                    'سورة البينة',
                    'سورة الزلزلة',
                    'سورة العاديات',
                    'سورة القارعة',
                    'سورة التكاثر',
                    'سورة العصر',
                    'سورة الهمزة',
                    'سورة الفيل',
                    'سورة قريش',
                    'سورة الماعون',
                    'سورة الكوثر',
                    'سورة الكافرون',
                    'سورة النصر',
                ],
            ],

            // ==================== كتاب الإيمان والنذور ====================
            [
                'name' => 'كتاب الإيمان والنذور',
                'chapters' => [
                    'باب الإيمان',
                    'باب كفارة اليمين وعلاماتها',
                    'باب النذور',
                ],
            ],

            // ==================== كتاب العلم ====================
            [
                'name' => 'كتاب العلم',
                'chapters' => [
                    'باب فضل العلم والمتعلم',
                    'باب العلم يقبض بقبض العلماء',
                    'باب الترهيب من كتمان العلم',
                    'باب الذي عن كثرة السؤال',
                    'باب رواية الحديث النبوي',
                    'باب الكذب على رسول الله ﷺ',
                ],
            ],

            // ==================== كتاب البر والصلة ====================
            [
                'name' => 'كتاب البر والصلة',
                'chapters' => [
                    'باب فضل بر الوالدين',
                    'باب فضائل الصحابة',
                    'باب صفة النبي ﷺ',
                    'باب فضائل الصحابة',
                    'باب فضائل القرن الثلاثة الأولى',
                    'باب فضله هذه الأمة',
                    'باب قريش وغيرها من قبائل العرب والعجم',
                    'باب فضائل أماكن متعددة',
                    'باب فضائل أوقات مختلفة',
                ],
            ],

            // ==================== كتاب السيرة ====================
            [
                'name' => 'كتاب السيرة',
                'chapters' => [
                    'باب أسماء النبي ﷺ ومولده وعثاته',
                    'باب الهجرة',
                    'باب المغازي',
                    'باب العدة',
                ],
            ],

            // ==================== كتاب المناقب ====================
            [
                'name' => 'كتاب المناقب',
                'chapters' => [
                    'باب الصدقة لا تحل لآل محمد ﷺ',
                ],
            ],

            // ==================== كتاب المناقب ====================
            [
                'name' => 'كتاب المنائح',
                'chapters' => [
                    'باب فضل الصدقة والنفقة على الأقارب',
                    'باب الوقف والصدقة الجارية',
                    'باب الترغيب في الصدقة والنفقة',
                ],
            ],

            // ==================== كتاب الزكاة ====================
            [
                'name' => 'كتاب الزكاة',
                'chapters' => [
                    'باب وجوب الزكاة وإثم مانعها',
                    'باب أهل الزكاة ومقاديرها',
                    'باب جمع الزكاة وتوزيعها',
                    'باب ما يجب فيه أن الصدقة لا تحل لآل محمد ﷺ',
                    'باب الترغيب في الصدقة والنفقة',
                ],
            ],

            // ==================== كتاب الصيام ====================
            [
                'name' => 'كتاب الصيام',
                'chapters' => [
                    'باب الترغيب في الصيام',
                    'باب الأيام المستحب صيامها',
                    'باب أحكام الصيام وآدابه',
                    'باب الإفطار في السفر',
                    'باب فضائل شهر رمضان',
                    'باب فضائل بدر والحديبية',
                    'باب فضائل أهل بدر والحديبية',
                ],
            ],

            // ==================== كتاب التطوع ====================
            [
                'name' => 'كتاب التطوع',
                'chapters' => [
                    'باب استحباب صلاة النافلة في البيوت',
                    'باب الترغيب في صلاة الليل',
                    'باب صفة صلاة الليل',
                    'باب أحكام الجهاد وآدابه',
                ],
            ],

            // ==================== كتاب الكسوف ====================
            [
                'name' => 'كتاب الكسوف',
                'chapters' => [
                    'باب وجوب الجهاد واخلاص النية فيه',
                    'باب صلاة الكسوف',
                ],
            ],

            // ==================== كتاب الاستسقاء ====================
            [
                'name' => 'كتاب الاستسقاء',
                'chapters' => [
                    'باب صلاة الاستسقاء',
                ],
            ],

            // ==================== كتاب المناسك (الحج) ====================
            [
                'name' => 'كتاب المناسك (الحج)',
                'chapters' => [
                    'باب الترغيب في الحج',
                    'باب المواقيت والإحرام',
                    'باب صفة الحج',
                    'باب ما يجتنبه المحرم',
                    'باب المتعة والقران والإفراد',
                    'باب الهدي على الحاج وما يتعلق به',
                    'باب الإحرام وما يتحل للمحرم وما لا يحل',
                    'باب الإفاضة والإقامة',
                    'باب الحج والوقوف',
                    'باب الوقوف والإفاضة والتحلل',
                    'باب الحصر والفوات',
                    'باب يجب على الحاضر فعله من المناسك',
                    'باب الإحصار',
                    'باب غسو البيت ﷺ',
                    'باب حج عن الغير ووليه زيحله',
                    'باب فضائل أيام الحج',
                    'باب فيما جاء المرأة وأولادها وأخدمها',
                    'باب فضل العمرة',
                    'باب فضل مكة والمدينة',
                    'باب فضل ما يوم الأضحى',
                ],
            ],

            // ==================== كتاب البيوع ====================
            [
                'name' => 'كتاب البيوع',
                'chapters' => [
                    'باب ما لا يجوز بيعه',
                    'باب ما يجوز من البياعات دون إثباتها',
                    'باب الربا في المكيل والموزون والحيوان',
                    'باب الحوالة وحوالة الوفاء بالعقود',
                    'باب الخيار والصدق والكذب',
                    'باب ما يحرم من البيوع',
                    'باب البيع والسلم والسلف والحوالة',
                    'باب ما جاء في كيفية التجارة',
                    'باب نهي عن ترك العطاء عند الكراهية',
                    'باب ما جاء في ذكر المحتكر',
                ],
            ],

            // ==================== كتاب الفرائض ====================
            [
                'name' => 'كتاب الفرائض',
                'chapters' => [
                    'باب ميراث الأولاد',
                    'باب ميراث الزوجين',
                    'باب ميراث الأخوة',
                ],
            ],

            // ==================== كتاب الوصايا ====================
            [
                'name' => 'كتاب الوصايا',
                'chapters' => [
                    'باب الوصية بالثلث',
                ],
            ],

            // ==================== كتاب النكاح ====================
            [
                'name' => 'كتاب النكاح',
                'chapters' => [
                    'باب الترغيب في النكاح',
                    'باب الخطبة',
                    'باب النظر إلى المخطوبة',
                    'باب الولي والشهود',
                    'باب الصداق',
                    'باب حق الزوج على الزوجة',
                    'باب حق الزوجة على الزوج',
                    'باب العزل',
                    'باب الوليمة',
                    'باب من تحرم نكاحها',
                    'باب نكاح المشركة والكتابية',
                ],
            ],

            // ==================== كتاب الطلاق ====================
            [
                'name' => 'كتاب الطلاق',
                'chapters' => [
                    'باب ما جاء في الطلاق',
                    'باب الإيلاء',
                    'باب الظهار',
                    'باب اللعان',
                    'باب العدة',
                    'باب الرجعة',
                    'باب النفقة',
                    'باب الحضانة',
                ],
            ],

            // ==================== كتاب الجنايات ====================
            [
                'name' => 'كتاب الجنايات',
                'chapters' => [
                    'باب تحريم الدماء والأعراض والأموال',
                    'باب القصاص',
                    'باب الديات',
                    'باب القسامة',
                ],
            ],

            // ==================== كتاب الحدود ====================
            [
                'name' => 'كتاب الحدود',
                'chapters' => [
                    'باب حد الزنا',
                    'باب حد القذف',
                    'باب حد الخمر',
                    'باب حد السرقة',
                    'باب حد الحرابة',
                    'باب التعزير',
                ],
            ],

            // ==================== كتاب الأقضية ====================
            [
                'name' => 'كتاب الأقضية',
                'chapters' => [
                    'باب آداب القاضي',
                    'باب الشهادات',
                    'باب اليمين',
                    'باب الإقرار',
                    'باب الدعوى والبينات',
                ],
            ],

            // ==================== كتاب الأطعمة ====================
            [
                'name' => 'كتاب الأطعمة',
                'chapters' => [
                    'باب آداب الأكل والشرب',
                    'باب ما يحل وما يحرم من الطعام',
                    'باب الذبائح والصيد',
                    'باب الأضاحي',
                    'باب العقيقة',
                ],
            ],

            // ==================== كتاب الأشربة ====================
            [
                'name' => 'كتاب الأشربة',
                'chapters' => [
                    'باب تحريم الخمر',
                    'باب الأنبذة',
                    'باب آداب الشرب',
                ],
            ],

            // ==================== كتاب اللباس ====================
            [
                'name' => 'كتاب اللباس',
                'chapters' => [
                    'باب لباس الرجال',
                    'باب لباس النساء',
                    'باب الحرير والذهب',
                    'باب الخاتم',
                    'باب النعال',
                ],
            ],

            // ==================== كتاب الأدب ====================
            [
                'name' => 'كتاب الأدب',
                'chapters' => [
                    'باب السلام',
                    'باب الاستئذان',
                    'باب المجالس',
                    'باب الكلام والسكوت',
                    'باب حسن الخلق',
                    'باب الغضب',
                    'باب الرفق',
                    'باب التواضع',
                    'باب الكبر',
                    'باب الحسد',
                    'باب الغيبة والنميمة',
                    'باب الصدق والكذب',
                ],
            ],

            // ==================== كتاب الذكر والدعاء ====================
            [
                'name' => 'كتاب الذكر والدعاء',
                'chapters' => [
                    'باب فضل الذكر',
                    'باب أذكار الصباح والمساء',
                    'باب أذكار النوم والاستيقاظ',
                    'باب الدعاء',
                    'باب الاستغفار والتوبة',
                    'باب الصلاة على النبي ﷺ',
                ],
            ],

            // ==================== كتاب الرقاق ====================
            [
                'name' => 'كتاب الرقاق',
                'chapters' => [
                    'باب الزهد في الدنيا',
                    'باب القناعة',
                    'باب الصبر',
                    'باب الخوف والرجاء',
                    'باب الموت',
                    'باب عذاب القبر ونعيمه',
                    'باب البعث والنشور',
                    'باب القيامة والحساب',
                    'باب الجنة',
                    'باب النار',
                ],
            ],

            // ==================== كتاب القدر ====================
            [
                'name' => 'كتاب القدر',
                'chapters' => [
                    'باب الإيمان بالقدر',
                    'باب خلق الأعمال',
                ],
            ],

            // ==================== كتاب الفتن ====================
            [
                'name' => 'كتاب الفتن',
                'chapters' => [
                    'باب الفتن وأشراط الساعة',
                    'باب الدجال',
                    'باب نزول عيسى عليه السلام',
                    'باب يأجوج ومأجوج',
                    'باب المهدي',
                ],
            ],

            // ==================== كتاب التوحيد ====================
            [
                'name' => 'كتاب التوحيد',
                'chapters' => [
                    'باب أسماء الله وصفاته',
                    'باب رؤية الله',
                    'باب الشفاعة',
                ],
            ],
        ];

        $sortOrder = 1;

        foreach ($booksData as $bookData) {
            // Create or update main book (won't delete existing, won't duplicate)
            $book = Book::updateOrCreate(
                ['name' => $bookData['name'], 'parent_id' => null],
                ['sort_order' => $sortOrder++]
            );

            // Create or update chapters
            $chapterOrder = 1;
            foreach ($bookData['chapters'] as $chapterName) {
                Book::updateOrCreate(
                    ['name' => $chapterName, 'parent_id' => $book->id],
                    ['sort_order' => $chapterOrder++]
                );
            }
        }
    }
}
